CREATE TABLE `ots` (
  `id` mediumint(11) NOT NULL AUTO_INCREMENT,
  `ot_tipo_id` mediumint(11) NOT NULL,
  `criacao_user` mediumint(11) DEFAULT NULL,
  `centro_custo` mediumint(11) DEFAULT NULL,
  `slas_ingest_id` mediumint(11) DEFAULT NULL,
  `ot_status_id` mediumint(10) unsigned DEFAULT NULL,
  `data_criacao` datetime DEFAULT NULL,
  `data_objectivo` datetime DEFAULT NULL,
  `data_plano` datetime DEFAULT NULL,
  `data_de_programacao` date DEFAULT NULL,
  `data_inicio` datetime DEFAULT NULL,
  `data_execucao` datetime DEFAULT NULL,
  `data_cancelamento` datetime DEFAULT NULL,
  `cancelada` tinyint(1) DEFAULT NULL,
  `urgente` mediumint(1) DEFAULT '0',
  `controlled_by_ot_id` mediumint(11) DEFAULT NULL COMMENT 'Indica ot que criou esta ot e que a controla\\n',
  PRIMARY KEY (`id`),
  KEY `fk_ots_ot_tipo1_idx` (`ot_tipo_id`),
  KEY `fk_ots_parceiros1_idx` (`criacao_user`),
  KEY `fk_ots_slas_ingest1_idx` (`slas_ingest_id`),
  KEY `fk_ots_parceiros2_idx` (`centro_custo`),
  KEY `fk_ots_ot_status1_idx` (`ot_status_id`),
  KEY `fk_ots_ots1_idx` (`controlled_by_ot_id`),
  CONSTRAINT `fk_ots_ots1` FOREIGN KEY (`controlled_by_ot_id`) REFERENCES `ots` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_ots_ot_status1` FOREIGN KEY (`ot_status_id`) REFERENCES `ot_status` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_ots_ot_tipo1` FOREIGN KEY (`ot_tipo_id`) REFERENCES `ot_tipo` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_ots_parceiros1` FOREIGN KEY (`criacao_user`) REFERENCES `parceiros` (`parceiro_id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_ots_slas_ingest1` FOREIGN KEY (`slas_ingest_id`) REFERENCES `slas_ingest` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `ots_ibfk_1` FOREIGN KEY (`centro_custo`) REFERENCES `parceiros` (`parceiro_id`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8